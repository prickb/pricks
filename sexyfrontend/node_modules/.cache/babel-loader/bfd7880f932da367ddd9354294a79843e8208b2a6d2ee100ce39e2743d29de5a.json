{"ast":null,"code":"import _slicedToArray from\"/Users/adhiraj/Desktop/prickly/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useEffect,useState}from\"react\";import\"./Products.css\";import{useSelector,useDispatch}from\"react-redux\";import{clearErrors,getProduct}from\"../../actions/productAction\";import Loader from\"../layout/Loader/Loader\";import ProductCard from\"../Home/ProductCard\";import Pagination from\"react-js-pagination\";import Slider from\"@material-ui/core/Slider\";import{useAlert}from\"react-alert\";import Typography from\"@material-ui/core/Typography\";import MetaData from\"../layout/MetaData\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var categories=[\"secented candles\",\"stickers\",\"notebooks\",\"notepads\",\"art prints\",\"upcoming\"];var Products=function Products(_ref){var match=_ref.match;var dispatch=useDispatch();var alert=useAlert();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState([0,25000]),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),ratings=_useState8[0],setRatings=_useState8[1];var _useSelector=useSelector(function(state){return state.products;}),products=_useSelector.products,loading=_useSelector.loading,error=_useSelector.error,productsCount=_useSelector.productsCount,resultPerPage=_useSelector.resultPerPage,filteredProductsCount=_useSelector.filteredProductsCount;console.log(\"Products from Redux state:\",products);var keyword=match.params.keyword;var setCurrentPageNo=function setCurrentPageNo(e){setCurrentPage(e);};var priceHandler=function priceHandler(event,newPrice){setPrice(newPrice);};var count=filteredProductsCount;useEffect(function(){if(error){alert.error(error);dispatch(clearErrors());}dispatch(getProduct(keyword,currentPage,price,category));},[dispatch,keyword,currentPage,price,category,alert,error]);return/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"PRODUCTS -- ECOMMERCE\"}),/*#__PURE__*/_jsx(\"div\",{className:\"filterBox\"}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"section\",{className:\"category__position\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"category__position--left\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"checkbox\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"toggle\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"top_line common\"}),/*#__PURE__*/_jsx(\"span\",{className:\"middle_line common\"}),/*#__PURE__*/_jsx(\"span\",{className:\"bottom_line common\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"category__slide\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"shop by category\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"category__slide--ul\",children:categories.map(function(category){return/*#__PURE__*/_jsx(\"li\",{className:\"category__slide--li\",onClick:function onClick(){return setCategory(category);},children:/*#__PURE__*/_jsx(\"button\",{children:category})},category);})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"category__position--right scented__candles border__left\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"products\",children:[products&&products.map(function(product){return/*#__PURE__*/_jsx(ProductCard,{product:product},product._id);}),resultPerPage<count&&/*#__PURE__*/_jsx(\"div\",{className:\"paginationBox\",children:/*#__PURE__*/_jsx(Pagination,{activePage:currentPage,itemsCountPerPage:resultPerPage,totalItemsCount:productsCount,onChange:setCurrentPageNo,nextPageText:\"Next\",prevPageText:\"Prev\",firstPageText:\"1st\",lastPageText:\"Last\",itemClass:\"page-item\",linkClass:\"page-link\",activeClass:\"pageItemActive\",activeLinkClass:\"pageLinkActive\"})})]})})]})})]})});};export default Products;","map":{"version":3,"names":["React","Fragment","useEffect","useState","useSelector","useDispatch","clearErrors","getProduct","Loader","ProductCard","Pagination","Slider","useAlert","Typography","MetaData","jsx","_jsx","jsxs","_jsxs","categories","Products","_ref","match","dispatch","alert","_useState","_useState2","_slicedToArray","currentPage","setCurrentPage","_useState3","_useState4","price","setPrice","_useState5","_useState6","category","setCategory","_useState7","_useState8","ratings","setRatings","_useSelector","state","products","loading","error","productsCount","resultPerPage","filteredProductsCount","console","log","keyword","params","setCurrentPageNo","e","priceHandler","event","newPrice","count","children","title","className","type","map","onClick","product","_id","activePage","itemsCountPerPage","totalItemsCount","onChange","nextPageText","prevPageText","firstPageText","lastPageText","itemClass","linkClass","activeClass","activeLinkClass"],"sources":["/Users/adhiraj/Desktop/prickly/frontend/src/component/Product/Products.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport \"./Products.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { clearErrors, getProduct } from \"../../actions/productAction\";\nimport Loader from \"../layout/Loader/Loader\";\nimport ProductCard from \"../Home/ProductCard\";\nimport Pagination from \"react-js-pagination\";\nimport Slider from \"@material-ui/core/Slider\";\nimport { useAlert } from \"react-alert\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MetaData from \"../layout/MetaData\";\n\nconst categories = [\n  \"secented candles\",\n  \"stickers\",\n  \"notebooks\",\n  \"notepads\",\n  \"art prints\",\n  \"upcoming\",\n\n];\n\nconst Products = ({ match }) => {\n  const dispatch = useDispatch();\n\n  const alert = useAlert();\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [price, setPrice] = useState([0, 25000]);\n  const [category, setCategory] = useState(\"\");\n\n  const [ratings, setRatings] = useState(0);\n\n  const {\n    products,\n    loading,\n    error,\n    productsCount,\n    resultPerPage,\n    filteredProductsCount,\n  } = useSelector((state) => state.products);\n\n  console.log(\"Products from Redux state:\", products);\n\n  const keyword = match.params.keyword;\n\n  const setCurrentPageNo = (e) => {\n    setCurrentPage(e);\n  };\n\n  const priceHandler = (event, newPrice) => {\n    setPrice(newPrice);\n  };\n  let count = filteredProductsCount;\n\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    dispatch(getProduct(keyword, currentPage, price, category));\n  }, [dispatch, keyword, currentPage, price, category, alert, error]);\n\n  return (\n    <Fragment>\n      {loading ? (\n        <Loader />\n      ) : (\n        <Fragment>\n          <MetaData title=\"PRODUCTS -- ECOMMERCE\" />\n          {/* <h2 className=\"productsHeading\">Products</h2> */}\n\n\n\n\n\n          <div className=\"filterBox\">\n            {/* <Typography>Price</Typography>\n            <Slider\n              value={price}\n              onChange={priceHandler}\n              valueLabelDisplay=\"auto\"\n              aria-labelledby=\"range-slider\"\n              min={0}\n              max={25000}\n            /> */}\n\n            {/* <Typography>Categories</Typography>\n            <ul className=\"categoryBox\">\n              {categories.map((category) => (\n                <li\n                  className=\"category-link\"\n                  key={category}\n                  onClick={() => setCategory(category)}\n                >\n                  {category}\n                </li>\n              ))}\n            </ul> */}\n\n            {/* <fieldset>\n              <Typography component=\"legend\">Ratings Above</Typography>\n              <Slider\n                value={ratings}\n                onChange={(e, newRating) => {\n                  setRatings(newRating);\n                }}\n                aria-labelledby=\"continuous-slider\"\n                valueLabelDisplay=\"auto\"\n                min={0}\n                max={5}\n              />\n            </fieldset> */}\n          </div>\n\n\n          <main>\n            <section className=\"category__position\">\n              <div className=\"category__position--left\">\n                {/* <div className=\"category__all\"> */}\n\n                {/* <div className=\"category__menu\">\n                  <h1>shop by category</h1>\n\n                  <ul className=\" category__menu--items\">\n                    {categories.map((category) => (\n                      <li\n                        className=\"category-link category__menu--item\"\n                        key={category}\n                        onClick={() => setCategory(category)}\n                      >\n                        {category}\n                      </li>\n                    ))}\n                  </ul> */}\n                <label>\n                  <input type=\"checkbox\" className=\"checkbox\" />\n                  <div className=\"toggle\">\n                    <span className=\"top_line common\"></span>\n                    <span className=\"middle_line common\"></span>\n                    <span className=\"bottom_line common\"></span>\n                  </div>\n                  {/* <div className=\"category__position--left\"></div> */}\n                  <div className=\"category__slide\">\n                    <h1>shop by category</h1>\n                    <ul className=\"category__slide--ul\">\n                      {categories.map((category) => (\n                        <li\n                          className=\"category__slide--li\"\n                          key={category}\n                          onClick={() => setCategory(category)}\n                        >\n                          <button>{category}</button>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                </label>\n\n                {/* <ul className=\"category__menu--items\">\n                      <li className=\"category__menu--item\">\n                        <button id=\"scented__candles\">scented candles</button>\n                      </li>\n                      <li className=\"category__menu--item\">\n                        <button id=\"stickers\">stickers</button>\n                      </li>\n                      <li className=\"category__menu--item\">\n                        <button id=\"notebooks\">notebooks</button>\n                      </li>\n                      <li className=\"category__menu--item\">\n                        <button id=\"notepads\">notepads</button>\n                      </li>\n                      <li className=\"category__menu--item\">\n                        <button id=\"art__prints\">art prints</button>\n                      </li>\n                      <li className=\"category__menu--item\">\n                        <button id=\"upcoming\">upcoming</button>\n                      </li>\n                    </ul> */}\n                {/* </div> */}\n                {/* </div> */}\n              </div>\n              <div className=\"category__position--right scented__candles border__left\"><div className=\"products\">\n                {products &&\n                  products.map((product) => (\n                    <ProductCard key={product._id} product={product} />\n                  ))}\n                {resultPerPage < count && (\n                  <div className=\"paginationBox\">\n                    <Pagination\n                      activePage={currentPage}\n                      itemsCountPerPage={resultPerPage}\n                      totalItemsCount={productsCount}\n                      onChange={setCurrentPageNo}\n                      nextPageText=\"Next\"\n                      prevPageText=\"Prev\"\n                      firstPageText=\"1st\"\n                      lastPageText=\"Last\"\n                      itemClass=\"page-item\"\n                      linkClass=\"page-link\"\n                      activeClass=\"pageItemActive\"\n                      activeLinkClass=\"pageLinkActive\"\n                    />\n                  </div>\n                )}\n              </div>\n              </div>\n\n            </section>\n\n          </main>\n          {/* <div className=\"products\">\n            {products &&\n              products.map((product) => (\n                <ProductCard key={product._id} product={product} />\n              ))}\n          </div> */}\n\n\n\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default Products;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}