{"ast":null,"code":"import React,{Fragment,useEffect}from\"react\";import\"./orderDetails.css\";import{useSelector,useDispatch}from\"react-redux\";import MetaData from\"../layout/MetaData\";import{Link}from\"react-router-dom\";import{Typography}from\"@material-ui/core\";import{getOrderDetails,clearErrors}from\"../../actions/orderAction\";import Loader from\"../layout/Loader/Loader\";import{useAlert}from\"react-alert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrderDetails=function OrderDetails(_ref){var match=_ref.match;var _useSelector=useSelector(function(state){return state.orderDetails;}),order=_useSelector.order,error=_useSelector.error,loading=_useSelector.loading;var dispatch=useDispatch();var alert=useAlert();useEffect(function(){if(error){alert.error(error);dispatch(clearErrors());}dispatch(getOrderDetails(match.params.id));},[dispatch,alert,error,match.params.id]);return/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"status box border__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order__status\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"order status \",/*#__PURE__*/_jsx(\"p\",{className:order.orderStatus&&order.orderStatus===\"Delivered\"?\"greenColor\":\"redColor\",children:order.orderStatus&&order.orderStatus})]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"order number #\",order&&order._id]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order__para\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"we'll bt at your doorstep soon!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Get read to unbox your goodies, prick.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order__info\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"tracking id:\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"redirect link\"})]})]}),/*#__PURE__*/_jsx(MetaData,{title:\"Order Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetailsPage status box border__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetailsContainer\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Shipping Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetailsContainerBox\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{children:order.user&&order.user.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Phone:\"}),/*#__PURE__*/_jsx(\"span\",{children:order.shippingInfo&&order.shippingInfo.phoneNo})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Address:\"}),/*#__PURE__*/_jsx(\"span\",{children:order.shippingInfo&&\"\".concat(order.shippingInfo.address,\", \").concat(order.shippingInfo.city,\", \").concat(order.shippingInfo.state,\", \").concat(order.shippingInfo.pinCode,\", \").concat(order.shippingInfo.country)})]})]}),/*#__PURE__*/_jsx(Typography,{children:\"Payment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetailsContainerBox\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:order.paymentInfo&&order.paymentInfo.status===\"succeeded\"?\"greenColor\":\"redColor\",children:order.paymentInfo&&order.paymentInfo.status===\"succeeded\"?\"PAID\":\"NOT PAID\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Amount:\"}),/*#__PURE__*/_jsx(\"span\",{children:order.totalPrice&&order.totalPrice})]})]}),/*#__PURE__*/_jsx(Typography,{children:\"Order Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"orderDetailsContainerBox order__status\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:order.orderStatus&&order.orderStatus===\"Delivered\"?\"greenColor\":\"redColor\",children:order.orderStatus&&order.orderStatus})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"orderDetailsCartItems\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Order Items:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"orderDetailsCartItemsContainer\",children:order.orderItems&&order.orderItems.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"Product\"}),/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name}),\" \",/*#__PURE__*/_jsxs(\"span\",{children:[\"Variant: \",item.variant,/*#__PURE__*/_jsx(\"br\",{}),\"Pack: \",item.pack]}),/*#__PURE__*/_jsxs(\"span\",{children:[item.quantity,\" X \\u20B9\",item.price,\" =\",\" \",/*#__PURE__*/_jsxs(\"b\",{children:[\"\\u20B9\",item.price*item.quantity]})]})]},item.product);})})]})]})]})});};export default OrderDetails;","map":{"version":3,"names":["React","Fragment","useEffect","useSelector","useDispatch","MetaData","Link","Typography","getOrderDetails","clearErrors","Loader","useAlert","jsx","_jsx","jsxs","_jsxs","OrderDetails","_ref","match","_useSelector","state","orderDetails","order","error","loading","dispatch","alert","params","id","children","className","orderStatus","_id","href","title","user","name","shippingInfo","phoneNo","concat","address","city","pinCode","country","paymentInfo","status","totalPrice","orderItems","map","item","src","image","alt","to","product","variant","pack","quantity","price"],"sources":["/Users/adhiraj/Desktop/prickly/frontend/src/component/Order/OrderDetails.js"],"sourcesContent":["import React, { Fragment, useEffect } from \"react\";\nimport \"./orderDetails.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport MetaData from \"../layout/MetaData\";\nimport { Link } from \"react-router-dom\";\nimport { Typography } from \"@material-ui/core\";\nimport { getOrderDetails, clearErrors } from \"../../actions/orderAction\";\nimport Loader from \"../layout/Loader/Loader\";\nimport { useAlert } from \"react-alert\";\n\nconst OrderDetails = ({ match }) => {\n  const { order, error, loading } = useSelector((state) => state.orderDetails);\n\n  const dispatch = useDispatch();\n  const alert = useAlert();\n\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    dispatch(getOrderDetails(match.params.id));\n  }, [dispatch, alert, error, match.params.id]);\n  return (\n    <Fragment>\n      {loading ? (\n        <Loader />\n      ) : (\n        <Fragment>\n          <section className=\"status box border__left\">\n            <div className=\"order__status\">\n              <h1>order status <p\n                className={\n                  order.orderStatus && order.orderStatus === \"Delivered\"\n                    ? \"greenColor\"\n                    : \"redColor\"\n                }\n              >\n                {order.orderStatus && order.orderStatus}\n              </p></h1>\n              <h3>order number #{order && order._id}</h3>\n            </div>\n            <div className=\"order__para\">\n              <p>we'll bt at your doorstep soon!</p>\n              <p>Get read to unbox your goodies, prick.</p>\n            </div>\n            <div className=\"order__info\">\n              <p>tracking id:</p>\n              <a href=\"/\">redirect link</a>\n            </div>\n          </section>\n\n\n\n\n          <MetaData title=\"Order Details\" />\n          <div className=\"orderDetailsPage status box border__left\">\n            <div className=\"orderDetailsContainer\">\n              {/* <Typography component=\"h1\">\n                Order #{order && order._id}\n              </Typography> */}\n              <Typography>Shipping Info</Typography>\n              <div className=\"orderDetailsContainerBox\">\n                <div>\n                  <p>Name:</p>\n                  <span>{order.user && order.user.name}</span>\n                </div>\n                <div>\n                  <p>Phone:</p>\n                  <span>\n                    {order.shippingInfo && order.shippingInfo.phoneNo}\n                  </span>\n                </div>\n                <div>\n                  <p>Address:</p>\n                  <span>\n                    {order.shippingInfo &&\n                      `${order.shippingInfo.address}, ${order.shippingInfo.city}, ${order.shippingInfo.state}, ${order.shippingInfo.pinCode}, ${order.shippingInfo.country}`}\n                  </span>\n                </div>\n              </div>\n              <Typography>Payment</Typography>\n              <div className=\"orderDetailsContainerBox\">\n                <div>\n                  <p\n                    className={\n                      order.paymentInfo &&\n                        order.paymentInfo.status === \"succeeded\"\n                        ? \"greenColor\"\n                        : \"redColor\"\n                    }\n                  >\n                    {order.paymentInfo &&\n                      order.paymentInfo.status === \"succeeded\"\n                      ? \"PAID\"\n                      : \"NOT PAID\"}\n                  </p>\n                </div>\n\n                <div>\n                  <p>Amount:</p>\n                  <span>{order.totalPrice && order.totalPrice}</span>\n                </div>\n              </div>\n\n              <Typography>Order Status</Typography>\n              <div className=\"orderDetailsContainerBox order__status\">\n                <div>\n                  <p\n                    className={\n                      order.orderStatus && order.orderStatus === \"Delivered\"\n                        ? \"greenColor\"\n                        : \"redColor\"\n                    }\n                  >\n                    {order.orderStatus && order.orderStatus}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"orderDetailsCartItems\">\n              <Typography>Order Items:</Typography>\n              <div className=\"orderDetailsCartItemsContainer\">\n                {order.orderItems &&\n                  order.orderItems.map((item) => (\n                    <div key={item.product}>\n                      <img src={item.image} alt=\"Product\" />\n                      <Link to={`/product/${item.product}`}>\n                        {item.name}\n                      </Link>{\" \"}\n                      <span>Variant: {item.variant}<br />\n                        Pack: {item.pack}</span>\n                      <span>\n                        {item.quantity} X ₹{item.price} ={\" \"}\n                        <b>₹{item.price * item.quantity}</b>\n                      </span>\n                    </div>\n                  ))}\n              </div>\n            </div>\n          </div>\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default OrderDetails;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}