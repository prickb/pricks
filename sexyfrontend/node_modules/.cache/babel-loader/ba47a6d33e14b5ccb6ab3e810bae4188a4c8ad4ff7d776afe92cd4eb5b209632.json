{"ast":null,"code":"import _slicedToArray from\"/Users/adhiraj/Desktop/PRICKLY NEW/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useEffect,useState}from\"react\";import\"./Products.css\";import{useSelector,useDispatch}from\"react-redux\";import{clearErrors,getProduct}from\"../../actions/productAction\";import Loader from\"../layout/Loader/Loader\";import ProductCard from\"../Home/ProductCard\";import Pagination from\"react-js-pagination\";import Slider from\"@material-ui/core/Slider\";import{useAlert}from\"react-alert\";import Typography from\"@material-ui/core/Typography\";import MetaData from\"../layout/MetaData\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var categories=[\"Laptop\",\"Footwear\",\"Bottom\",\"Tops\",\"Attire\",\"Camera\",\"SmartPhones\"];var Products=function Products(_ref){var match=_ref.match;var dispatch=useDispatch();var alert=useAlert();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState([0,25000]),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),category=_useState6[0],setCategory=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),ratings=_useState8[0],setRatings=_useState8[1];var _useSelector=useSelector(function(state){return state.products;}),products=_useSelector.products,loading=_useSelector.loading,error=_useSelector.error,productsCount=_useSelector.productsCount,resultPerPage=_useSelector.resultPerPage,filteredProductsCount=_useSelector.filteredProductsCount;var keyword=match.params.keyword;var setCurrentPageNo=function setCurrentPageNo(e){setCurrentPage(e);};var priceHandler=function priceHandler(event,newPrice){setPrice(newPrice);};var count=filteredProductsCount;useEffect(function(){if(error){alert.error(error);dispatch(clearErrors());}dispatch(getProduct(keyword,currentPage,price,category,ratings));},[dispatch,keyword,currentPage,price,category,ratings,alert,error]);return/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"PRODUCTS -- ECOMMERCE\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"productsHeading\",children:\"Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:products&&products.map(function(product){return/*#__PURE__*/_jsx(ProductCard,{product:product},product._id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"filterBox\",children:[/*#__PURE__*/_jsx(Typography,{children:\"Price\"}),/*#__PURE__*/_jsx(Slider,{value:price,onChange:priceHandler,valueLabelDisplay:\"auto\",\"aria-labelledby\":\"range-slider\",min:0,max:25000}),/*#__PURE__*/_jsx(Typography,{children:\"Categories\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"categoryBox\",children:categories.map(function(category){return/*#__PURE__*/_jsx(\"li\",{className:\"category-link\",onClick:function onClick(){return setCategory(category);},children:category},category);})}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(Typography,{component:\"legend\",children:\"Ratings Above\"}),/*#__PURE__*/_jsx(Slider,{value:ratings,onChange:function onChange(e,newRating){setRatings(newRating);},\"aria-labelledby\":\"continuous-slider\",valueLabelDisplay:\"auto\",min:0,max:5})]})]}),resultPerPage<count&&/*#__PURE__*/_jsx(\"div\",{className:\"paginationBox\",children:/*#__PURE__*/_jsx(Pagination,{activePage:currentPage,itemsCountPerPage:resultPerPage,totalItemsCount:productsCount,onChange:setCurrentPageNo,nextPageText:\"Next\",prevPageText:\"Prev\",firstPageText:\"1st\",lastPageText:\"Last\",itemClass:\"page-item\",linkClass:\"page-link\",activeClass:\"pageItemActive\",activeLinkClass:\"pageLinkActive\"})})]})});};export default Products;","map":{"version":3,"names":["React","Fragment","useEffect","useState","useSelector","useDispatch","clearErrors","getProduct","Loader","ProductCard","Pagination","Slider","useAlert","Typography","MetaData","jsx","_jsx","jsxs","_jsxs","categories","Products","_ref","match","dispatch","alert","_useState","_useState2","_slicedToArray","currentPage","setCurrentPage","_useState3","_useState4","price","setPrice","_useState5","_useState6","category","setCategory","_useState7","_useState8","ratings","setRatings","_useSelector","state","products","loading","error","productsCount","resultPerPage","filteredProductsCount","keyword","params","setCurrentPageNo","e","priceHandler","event","newPrice","count","children","title","className","map","product","_id","value","onChange","valueLabelDisplay","min","max","onClick","component","newRating","activePage","itemsCountPerPage","totalItemsCount","nextPageText","prevPageText","firstPageText","lastPageText","itemClass","linkClass","activeClass","activeLinkClass"],"sources":["/Users/adhiraj/Desktop/PRICKLY NEW/frontend/src/component/Product/Products.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport \"./Products.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { clearErrors, getProduct } from \"../../actions/productAction\";\nimport Loader from \"../layout/Loader/Loader\";\nimport ProductCard from \"../Home/ProductCard\";\nimport Pagination from \"react-js-pagination\";\nimport Slider from \"@material-ui/core/Slider\";\nimport { useAlert } from \"react-alert\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MetaData from \"../layout/MetaData\";\n\nconst categories = [\n  \"Laptop\",\n  \"Footwear\",\n  \"Bottom\",\n  \"Tops\",\n  \"Attire\",\n  \"Camera\",\n  \"SmartPhones\",\n];\n\nconst Products = ({ match }) => {\n  const dispatch = useDispatch();\n\n  const alert = useAlert();\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [price, setPrice] = useState([0, 25000]);\n  const [category, setCategory] = useState(\"\");\n\n  const [ratings, setRatings] = useState(0);\n\n  const {\n    products,\n    loading,\n    error,\n    productsCount,\n    resultPerPage,\n    filteredProductsCount,\n  } = useSelector((state) => state.products);\n\n  const keyword = match.params.keyword;\n\n  const setCurrentPageNo = (e) => {\n    setCurrentPage(e);\n  };\n\n  const priceHandler = (event, newPrice) => {\n    setPrice(newPrice);\n  };\n  let count = filteredProductsCount;\n\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    dispatch(getProduct(keyword, currentPage, price, category, ratings));\n  }, [dispatch, keyword, currentPage, price, category, ratings, alert, error]);\n\n  return (\n    <Fragment>\n      {loading ? (\n        <Loader />\n      ) : (\n        <Fragment>\n          <MetaData title=\"PRODUCTS -- ECOMMERCE\" />\n          <h2 className=\"productsHeading\">Products</h2>\n\n          <div className=\"products\">\n            {products &&\n              products.map((product) => (\n                <ProductCard key={product._id} product={product} />\n              ))}\n          </div>\n\n          <div className=\"filterBox\">\n            <Typography>Price</Typography>\n            <Slider\n              value={price}\n              onChange={priceHandler}\n              valueLabelDisplay=\"auto\"\n              aria-labelledby=\"range-slider\"\n              min={0}\n              max={25000}\n            />\n\n            <Typography>Categories</Typography>\n            <ul className=\"categoryBox\">\n              {categories.map((category) => (\n                <li\n                  className=\"category-link\"\n                  key={category}\n                  onClick={() => setCategory(category)}\n                >\n                  {category}\n                </li>\n              ))}\n            </ul>\n\n            <fieldset>\n              <Typography component=\"legend\">Ratings Above</Typography>\n              <Slider\n                value={ratings}\n                onChange={(e, newRating) => {\n                  setRatings(newRating);\n                }}\n                aria-labelledby=\"continuous-slider\"\n                valueLabelDisplay=\"auto\"\n                min={0}\n                max={5}\n              />\n            </fieldset>\n          </div>\n          {resultPerPage < count && (\n            <div className=\"paginationBox\">\n              <Pagination\n                activePage={currentPage}\n                itemsCountPerPage={resultPerPage}\n                totalItemsCount={productsCount}\n                onChange={setCurrentPageNo}\n                nextPageText=\"Next\"\n                prevPageText=\"Prev\"\n                firstPageText=\"1st\"\n                lastPageText=\"Last\"\n                itemClass=\"page-item\"\n                linkClass=\"page-link\"\n                activeClass=\"pageItemActive\"\n                activeLinkClass=\"pageLinkActive\"\n              />\n            </div>\n          )}\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default Products;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}