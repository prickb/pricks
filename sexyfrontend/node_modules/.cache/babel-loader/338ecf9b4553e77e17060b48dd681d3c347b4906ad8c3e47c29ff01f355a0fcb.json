{"ast":null,"code":"import React,{Fragment}from\"react\";import CheckoutSteps from\"./CheckoutSteps\";import{useSelector}from\"react-redux\";import MetaData from\"../layout/MetaData\";import\"./ConfirmOrder.css\";import{Link}from\"react-router-dom\";import{Typography}from\"@material-ui/core\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ConfirmOrder=function ConfirmOrder(_ref){var history=_ref.history;var _useSelector=useSelector(function(state){return state.cart;}),shippingInfo=_useSelector.shippingInfo,cartItems=_useSelector.cartItems;var _useSelector2=useSelector(function(state){return state.user;}),user=_useSelector2.user;var subtotal=cartItems.reduce(function(acc,item){return acc+item.quantity*item.price;},0);var shippingCharges=subtotal>1000?0:200;var tax=subtotal*0.18;var totalPrice=subtotal+tax+shippingCharges;var address=\"\".concat(shippingInfo.address,\", \").concat(shippingInfo.city,\", \").concat(shippingInfo.state,\", \").concat(shippingInfo.pinCode,\", \").concat(shippingInfo.country);var proceedToPayment=function proceedToPayment(){var data={subtotal:subtotal,shippingCharges:shippingCharges,tax:tax,totalPrice:totalPrice};sessionStorage.setItem(\"orderInfo\",JSON.stringify(data));history.push(\"/process/payment\");};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"section\",{className:\"confirm__order\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"confirm__order--left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"order__info--h1\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"welcome to the prickly family!!\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"order__info--p\",children:/*#__PURE__*/_jsx(\"p\",{children:\"your order will be packed as soon as we finish doing the prickly dance :) \\u2661\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"order__info--para\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"you can track your order at my account>orders. you will get a notification when your order is packed and ready to be shipped, which should be within a week of -well- today.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"for the best unboxing experience and a discount code for your next order upload a reel/story tagging us @pricklybypb on Instagram!\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirm__order--right\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"order summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"confirmCartItemsContainer ordered__items\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"confirmCartItemsContainer ordered__item\",children:cartItems&&cartItems.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"ordered__item--img\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"Product\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ordered__item--info\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/product/\".concat(item.product),children:[item.name,item.quantity]}),\" \"]})]},item.product);})}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart__total\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart__total--left\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"cart total\"}),/*#__PURE__*/_jsx(\"p\",{className:\"small__text\",children:\"shipping\"}),/*#__PURE__*/_jsx(\"p\",{className:\"small__text\",children:\"discount\"}),/*#__PURE__*/_jsx(\"p\",{children:\"paid\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart__total--right\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20B9\",subtotal]}),/*#__PURE__*/_jsxs(\"p\",{className:\"small__text\",children:[\"\\u20B9\",shippingCharges]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20B9\",totalPrice]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart__btn\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/products\",className:\"btn back__btn\",children:\"back to shop\"}),/*#__PURE__*/_jsx(\"a\",{href:\"../account/account.html\",className:\"track__order\",children:\"track order\"})]})]})]})})});};export default ConfirmOrder;","map":{"version":3,"names":["React","Fragment","CheckoutSteps","useSelector","MetaData","Link","Typography","jsx","_jsx","jsxs","_jsxs","ConfirmOrder","_ref","history","_useSelector","state","cart","shippingInfo","cartItems","_useSelector2","user","subtotal","reduce","acc","item","quantity","price","shippingCharges","tax","totalPrice","address","concat","city","pinCode","country","proceedToPayment","data","sessionStorage","setItem","JSON","stringify","push","children","className","map","src","image","alt","to","product","name","href"],"sources":["/Users/adhiraj/Desktop/prickly/frontend/src/component/Cart/ConfirmOrder.js"],"sourcesContent":["import React, { Fragment } from \"react\";\nimport CheckoutSteps from \"./CheckoutSteps\";\nimport { useSelector } from \"react-redux\";\nimport MetaData from \"../layout/MetaData\";\nimport \"./ConfirmOrder.css\";\nimport { Link } from \"react-router-dom\";\nimport { Typography } from \"@material-ui/core\";\n\nconst ConfirmOrder = ({ history }) => {\n  const { shippingInfo, cartItems } = useSelector((state) => state.cart);\n  const { user } = useSelector((state) => state.user);\n\n  const subtotal = cartItems.reduce(\n    (acc, item) => acc + item.quantity * item.price,\n    0\n  );\n\n  const shippingCharges = subtotal > 1000 ? 0 : 200;\n\n  const tax = subtotal * 0.18;\n\n  const totalPrice = subtotal + tax + shippingCharges;\n\n  const address = `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.state}, ${shippingInfo.pinCode}, ${shippingInfo.country}`;\n\n  const proceedToPayment = () => {\n    const data = {\n      subtotal,\n      shippingCharges,\n      tax,\n      totalPrice,\n    };\n\n    sessionStorage.setItem(\"orderInfo\", JSON.stringify(data));\n\n    history.push(\"/process/payment\");\n  };\n\n  return (\n    <Fragment>\n\n      <main>\n        <section className=\"confirm__order\">\n          <div className=\"confirm__order--left\">\n            <div className=\"order__info--h1\">\n              <h1>welcome to the prickly family!!</h1>\n            </div>\n            <div className=\"order__info--p\">\n              <p>\n                your order will be packed as soon as we finish doing the prickly dance\n                :) ♡\n              </p>\n            </div>\n            <div className=\"order__info--para\">\n              <p>\n                you can track your order at my account&gt;orders. you will get a\n                notification when your order is packed and ready to be shipped, which\n                should be within a week of -well- today.\n              </p>\n              <p>\n                for the best unboxing experience and a discount code for your next\n                order upload a reel/story tagging us @pricklybypb on Instagram!\n              </p>\n            </div>\n          </div>\n          <div className=\"confirm__order--right\">\n            <h1>order summary</h1>\n            <div className=\"confirmCartItemsContainer ordered__items\">\n              <div className=\"confirmCartItemsContainer ordered__item\">\n                {cartItems &&\n                  cartItems.map((item) => (\n                    <div key={item.product}>\n                      <div className=\"ordered__item--img\">\n                        <img src={item.image} alt=\"Product\" />\n                      </div>\n                      <div className=\"ordered__item--info\">\n                        <Link to={`/product/${item.product}`}>\n                          {item.name}\n                          {item.quantity}\n                        </Link>{\" \"}\n                      </div>\n                    </div>\n                  ))\n                }\n              </div>\n              <hr />\n            </div>\n            {/* <div className=\"ordered__items\">\n              <div className=\"ordered__item\">\n                <div className=\"ordered__item--img\">\n                  <img />\n                </div>\n                <div className=\"ordered__item--info\">\n                  <p>item 1</p>\n                  <p>quantity</p>\n                </div>\n                <hr />\n              </div>\n              <div className=\"ordered__item\">\n                <div className=\"ordered__item--img\">\n                  <img />\n                </div>\n                <div>\n                  <p>item 1</p>\n                  <p>quantity</p>\n                </div>\n                <hr />\n              </div>\n              <div className=\"ordered__item\">\n                <div className=\"ordered__item--img\">\n                  <img />\n                </div>\n                <div>\n                  <p>item 1</p>\n                  <p>quantity</p>\n                </div>\n                <hr />\n              </div>\n              <div className=\"ordered__item\">\n                <div className=\"ordered__item--img\">\n                  <img />\n                </div>\n                <div>\n                  <p>item 1</p>\n                  <p>quantity</p>\n                </div>\n                <hr />\n              </div>\n              <div className=\"ordered__item\">\n                <div className=\"ordered__item--img\">\n                  <img />\n                </div>\n                <div>\n                  <p>item 1</p>\n                  <p>quantity</p>\n                </div>\n                <hr />\n              </div>\n            </div> */}\n            <div className=\"cart__total\">\n              <div className=\"cart__total--left\">\n                <p>cart total</p>\n                <p className=\"small__text\">shipping</p>\n                <p className=\"small__text\">discount</p>\n                <p>paid</p>\n              </div>\n              <div className=\"cart__total--right\">\n                <p>₹{subtotal}</p>\n                <p className=\"small__text\">₹{shippingCharges}</p>\n                {/* <p className=\"small__text\">conditional</p> */}\n                <p>₹{totalPrice}</p>\n              </div>\n            </div>\n            <div className=\"cart__btn\">\n              <a href=\"/products\" className=\"btn back__btn\">\n                back to shop\n              </a>\n              <a href=\"../account/account.html\" className=\"track__order\">\n                track order\n              </a>\n            </div>\n          </div>\n        </section>\n      </main>\n\n\n\n\n\n      {/* <MetaData title=\"Confirm Order\" />\n      <CheckoutSteps activeStep={1} />\n      <div className=\"confirmOrderPage\">\n        <div>\n          <div className=\"confirmshippingArea\">\n            <Typography>Shipping Info</Typography>\n            <div className=\"confirmshippingAreaBox\">\n              <div>\n                <p>Name:</p>\n                <span>{user.name}</span>\n              </div>\n              <div>\n                <p>Phone:</p>\n                <span>{shippingInfo.phoneNo}</span>\n              </div>\n              <div>\n                <p>Address:</p>\n                <span>{address}</span>\n              </div>\n            </div>\n          </div>\n          <div className=\"confirmCartItems\">\n            <Typography>Your Cart Items:</Typography>\n            <div className=\"confirmCartItemsContainer\">\n              {cartItems &&\n                cartItems.map((item) => (\n                  <div key={item.product}>\n                    <img src={item.image} alt=\"Product\" />\n                    <Link to={`/product/${item.product}`}>\n                      {item.name}\n                    </Link>{\" \"}\n                    <span>\n                      {item.quantity} X ₹{item.price} ={\" \"}\n                      <b>₹{item.price * item.quantity}</b>\n                    </span>\n                  </div>\n                ))}\n            </div>\n          </div>\n        </div>\n        {/*  */}\n      {/* <div>\n          <div className=\"orderSummary\">\n            <Typography>Order Summery</Typography>\n            <div>\n              <div>\n                <p>Subtotal:</p>\n                <span>₹{subtotal}</span>\n              </div>\n              <div>\n                <p>Shipping Charges:</p>\n                <span>₹{shippingCharges}</span>\n              </div>\n              <div>\n                <p>GST:</p>\n                <span>₹{tax}</span>\n              </div>\n            </div>\n\n            <div className=\"orderSummaryTotal\">\n              <p>\n                <b>Total:</b>\n              </p>\n              <span>₹{totalPrice}</span>\n            </div>\n\n            <button onClick={proceedToPayment}>Proceed To Payment</button>\n          </div>\n        </div>\n      </div> */}\n    </Fragment>\n  );\n};\n\nexport default ConfirmOrder;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}