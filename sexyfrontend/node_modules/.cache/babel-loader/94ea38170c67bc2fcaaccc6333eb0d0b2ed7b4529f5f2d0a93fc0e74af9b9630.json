{"ast":null,"code":"var _jsxFileName = \"/Users/adhiraj/Desktop/PRICKLY NEW/frontend/src/component/Product/ProductDetails.js\",\n  _s = $RefreshSig$();\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport Carousel from \"react-material-ui-carousel\";\nimport \"./ProductDetails.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { clearErrors, getProductDetails, newReview } from \"../../actions/productAction\";\nimport ReviewCard from \"./ReviewCard.js\";\nimport Loader from \"../layout/Loader/Loader\";\nimport { useAlert } from \"react-alert\";\nimport MetaData from \"../layout/MetaData\";\nimport { addItemsToCart } from \"../../actions/cartAction\";\nimport { Dialog, DialogActions, DialogContent, DialogTitle, Button } from \"@material-ui/core\";\nimport { Rating } from \"@material-ui/lab\";\nimport { NEW_REVIEW_RESET } from \"../../constants/productConstants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductDetails = ({\n  match\n}) => {\n  _s();\n  const dispatch = useDispatch();\n  const alert = useAlert();\n  const {\n    product,\n    loading,\n    error\n  } = useSelector(state => state.productDetails);\n  const {\n    success,\n    error: reviewError\n  } = useSelector(state => state.newReview);\n  const options = {\n    size: \"large\",\n    value: product.ratings,\n    readOnly: true,\n    precision: 0.5\n  };\n  const [quantity, setQuantity] = useState(1);\n  const [open, setOpen] = useState(false);\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState(\"\");\n  const increaseQuantity = () => {\n    if (product.Stock <= quantity) return;\n    const qty = quantity + 1;\n    setQuantity(qty);\n  };\n  const decreaseQuantity = () => {\n    if (1 >= quantity) return;\n    const qty = quantity - 1;\n    setQuantity(qty);\n  };\n  const addToCartHandler = () => {\n    dispatch(addItemsToCart(match.params.id, quantity));\n    alert.success(\"Item Added To Cart\");\n  };\n  const submitReviewToggle = () => {\n    open ? setOpen(false) : setOpen(true);\n  };\n  const reviewSubmitHandler = () => {\n    const myForm = new FormData();\n    myForm.set(\"rating\", rating);\n    myForm.set(\"comment\", comment);\n    myForm.set(\"productId\", match.params.id);\n    dispatch(newReview(myForm));\n    setOpen(false);\n  };\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n    if (reviewError) {\n      alert.error(reviewError);\n      dispatch(clearErrors());\n    }\n    if (success) {\n      alert.success(\"Review Submitted Successfully\");\n      dispatch({\n        type: NEW_REVIEW_RESET\n      });\n    }\n    dispatch(getProductDetails(match.params.id));\n  }, [dispatch, match.params.id, error, alert, reviewError, success]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(MetaData, {\n        title: `${product.name} -- ECOMMERCE`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetails, \"I6amy7MCr0eW93IxcoCRKsl7gwI=\", false, function () {\n  return [useDispatch, useAlert, useSelector, useSelector];\n});\n_c = ProductDetails;\nexport default ProductDetails;\nvar _c;\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"names":["React","Fragment","useEffect","useState","Carousel","useSelector","useDispatch","clearErrors","getProductDetails","newReview","ReviewCard","Loader","useAlert","MetaData","addItemsToCart","Dialog","DialogActions","DialogContent","DialogTitle","Button","Rating","NEW_REVIEW_RESET","jsxDEV","_jsxDEV","ProductDetails","match","_s","dispatch","alert","product","loading","error","state","productDetails","success","reviewError","options","size","value","ratings","readOnly","precision","quantity","setQuantity","open","setOpen","rating","setRating","comment","setComment","increaseQuantity","Stock","qty","decreaseQuantity","addToCartHandler","params","id","submitReviewToggle","reviewSubmitHandler","myForm","FormData","set","type","children","fileName","_jsxFileName","lineNumber","columnNumber","title","name","_c","$RefreshReg$"],"sources":["/Users/adhiraj/Desktop/PRICKLY NEW/frontend/src/component/Product/ProductDetails.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport Carousel from \"react-material-ui-carousel\";\nimport \"./ProductDetails.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  clearErrors,\n  getProductDetails,\n  newReview,\n} from \"../../actions/productAction\";\nimport ReviewCard from \"./ReviewCard.js\";\nimport Loader from \"../layout/Loader/Loader\";\nimport { useAlert } from \"react-alert\";\nimport MetaData from \"../layout/MetaData\";\nimport { addItemsToCart } from \"../../actions/cartAction\";\nimport {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Button,\n} from \"@material-ui/core\";\nimport { Rating } from \"@material-ui/lab\";\nimport { NEW_REVIEW_RESET } from \"../../constants/productConstants\";\n\nconst ProductDetails = ({ match }) => {\n  const dispatch = useDispatch();\n  const alert = useAlert();\n\n  const { product, loading, error } = useSelector(\n    (state) => state.productDetails\n  );\n\n  const { success, error: reviewError } = useSelector(\n    (state) => state.newReview\n  );\n\n  const options = {\n    size: \"large\",\n    value: product.ratings,\n    readOnly: true,\n    precision: 0.5,\n  };\n\n  const [quantity, setQuantity] = useState(1);\n  const [open, setOpen] = useState(false);\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState(\"\");\n\n  const increaseQuantity = () => {\n    if (product.Stock <= quantity) return;\n\n    const qty = quantity + 1;\n    setQuantity(qty);\n  };\n\n  const decreaseQuantity = () => {\n    if (1 >= quantity) return;\n\n    const qty = quantity - 1;\n    setQuantity(qty);\n  };\n\n  const addToCartHandler = () => {\n    dispatch(addItemsToCart(match.params.id, quantity));\n    alert.success(\"Item Added To Cart\");\n  };\n\n  const submitReviewToggle = () => {\n    open ? setOpen(false) : setOpen(true);\n  };\n\n  const reviewSubmitHandler = () => {\n    const myForm = new FormData();\n\n    myForm.set(\"rating\", rating);\n    myForm.set(\"comment\", comment);\n    myForm.set(\"productId\", match.params.id);\n\n    dispatch(newReview(myForm));\n\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n\n    if (reviewError) {\n      alert.error(reviewError);\n      dispatch(clearErrors());\n    }\n\n    if (success) {\n      alert.success(\"Review Submitted Successfully\");\n      dispatch({ type: NEW_REVIEW_RESET });\n    }\n    dispatch(getProductDetails(match.params.id));\n  }, [dispatch, match.params.id, error, alert, reviewError, success]);\n\n  return (\n    <Fragment>\n      {loading ? (\n        <Loader />\n      ) : (\n        <Fragment>\n          <MetaData title={`${product.name} -- ECOMMERCE`} />\n\n          {/* <div className=\"ProductDetails\">\n            <div>\n              <Carousel>\n                {product.images &&\n                  product.images.map((item, i) => (\n                    <img\n                      className=\"CarouselImage\"\n                      key={i}\n                      src={item.url}\n                      alt={`${i} Slide`}\n                    />\n                  ))}\n              </Carousel>\n            </div>\n\n            <div>\n              <div className=\"detailsBlock-1\">\n                <h2>{product.name}</h2>\n                <p>Product # {product._id}</p>\n              </div>\n              <div className=\"detailsBlock-2\">\n                <Rating {...options} />\n                <span className=\"detailsBlock-2-span\">\n                  {\" \"}\n                  ({product.numOfReviews} Reviews)\n                </span>\n              </div>\n              <div className=\"detailsBlock-3\">\n                <h1>{`â‚¹${product.price}`}</h1>\n                <div className=\"detailsBlock-3-1\">\n                  <div className=\"detailsBlock-3-1-1\">\n                    <button onClick={decreaseQuantity}>-</button>\n                    <input readOnly type=\"number\" value={quantity} />\n                    <button onClick={increaseQuantity}>+</button>\n                  </div>\n                  <button\n                    disabled={product.Stock < 1 ? true : false}\n                    onClick={addToCartHandler}\n                  >\n                    Add to Cart\n                  </button>\n                </div>\n\n                <p>\n                  Status:\n                  <b className={product.Stock < 1 ? \"redColor\" : \"greenColor\"}>\n                    {product.Stock < 1 ? \"OutOfStock\" : \"InStock\"}\n                  </b>\n                </p>\n              </div>\n\n              <div className=\"detailsBlock-4\">\n                Description : <p>{product.description}</p>\n              </div>\n\n              <button onClick={submitReviewToggle} className=\"submitReview\">\n                Submit Review\n              </button>\n            </div>\n          </div>\n\n          <h3 className=\"reviewsHeading\">REVIEWS</h3>\n\n          <Dialog\n            aria-labelledby=\"simple-dialog-title\"\n            open={open}\n            onClose={submitReviewToggle}\n          >\n            <DialogTitle>Submit Review</DialogTitle>\n            <DialogContent className=\"submitDialog\">\n              <Rating\n                onChange={(e) => setRating(e.target.value)}\n                value={rating}\n                size=\"large\"\n              />\n\n              <textarea\n                className=\"submitDialogTextArea\"\n                cols=\"30\"\n                rows=\"5\"\n                value={comment}\n                onChange={(e) => setComment(e.target.value)}\n              ></textarea>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={submitReviewToggle} color=\"secondary\">\n                Cancel\n              </Button>\n              <Button onClick={reviewSubmitHandler} color=\"primary\">\n                Submit\n              </Button>\n            </DialogActions>\n          </Dialog>\n\n          {product.reviews && product.reviews[0] ? (\n            <div className=\"reviews\">\n              {product.reviews &&\n                product.reviews.map((review) => (\n                  <ReviewCard key={review._id} review={review} />\n                ))}\n            </div>\n          ) : (\n            <p className=\"noReviews\">No Reviews Yet</p>\n          )} */}\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default ProductDetails;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}